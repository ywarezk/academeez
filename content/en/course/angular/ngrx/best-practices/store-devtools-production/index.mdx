---
title: 'Best Practice: Remove `@ngrx/store-devtools` in production'
description: If you are using `@ngrx/store-devtools` in your application, you should remove it in production.
imageBig: ''
---

In production `@ngrx/store-devtools` should be completly removed from the bundle.  
Let's see an example:

<Steps>

### Start a new angular application

```bash
npx @angular/cli@latest new ngrx-remove-devtools --style css --routing false --minimal
```

### Install `@ngrx/store` and `@ngrx/store-devtools`

```bash
cd ngrx-remove-devtools
npx ng add @ngrx/store --skip-confirmation
npx ng add @ngrx/store-devtools@latest --skip-confirmation
```

### Populate your state

```typescript title="app.module.ts"
@NgModule({
  declarations: [AppComponent],
  imports: [
    BrowserModule,
    StoreModule.forRoot(
      {
        counter: () => 0,
      },
      {}
    ),
    StoreDevtoolsModule.instrument({maxAge: 25, logOnly: !isDevMode()}),
  ],
  providers: [],
  bootstrap: [AppComponent],
})
export class AppModule {}

```

### Examine the state

If you have the [Redux dev tools](https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd) installed you can now examine your state.

```bash
ng serve
```

![Redux dev tools](https://github.com/ywarezk/academeez/blob/main/content/en/course/angular/ngrx/best-practices/store-devtools-production/examine-state.png?raw=true)

### Problem examine state in Production

It's best to disable redux dev tools in production.

```bash
npx ng build
cd dist/ngrx-remove-devtools
npx http-server
```

Redux dev tools still works in production

### Solution 1

If on production do not place the `StoreDevtoolsModule.instrument` in the imports array.  

```bash
npx ng generate environments
```

add a `production` key to the environments files:

```json title="src/environments/environment.development.ts"
export const environment = {
  production: false,
};
```

```json title="src/environments/environment.ts"
export const environment = {
  production: true,
};
```

```typescript title="app.module.ts"
import {environment} from '../environments/environment';

@NgModule({
  declarations: [AppComponent],
  imports: [
    BrowserModule,
    StoreModule.forRoot(
      {
        counter: () => 0,
      },
      {}
    ),
    !environment.production ? StoreDevtoolsModule.instrument({maxAge: 25, logOnly: !isDevMode()}) : [],
  ],
  providers: [],
  bootstrap: [AppComponent],
})
export class AppModule {}
```

### Problem

`@ngrx/store-devtools` is still in the bundle

```bash
npx ng build --source-map
npx source-map-explorer dist/ngrx-remove-devtools/main.4a92d461e97ce051.js
```

![source-map-explorer](https://github.com/ywarezk/academeez/blob/main/content/en/course/angular/ngrx/best-practices/store-devtools-production/examine-bundle.png?raw=true)

</Steps>
